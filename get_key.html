<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>Gradebase</title>
	</head>
	<body>
		<h1>Gradebase</h1>
		<div id="key-output"></div>
		<script>
			//Ask for a key! Politely!
			getKey();

			//Send the request.
			function getKey() {
				console.log("Getting key...");
				const xhttp = new XMLHttpRequest();
				xhttp.open("GET", "http://localhost:8888?type=key", true);
				xhttp.send();
				xhttp.onreadystatechange = function () {
					if (this.readyState == 4 && this.status == 200) {
						let target = document.getElementById("key-output");
						target.innerHTML = this.responseText;
					}
				}
			}
			</script>
	</body>
</html>